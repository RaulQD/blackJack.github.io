const miModulo = (() => { "use strict"; let d = [], e = ["C", "D", "H", "S"], f = ["A", "J", "Q", "K"], g = [], a = document.querySelector("#btnPedir"), b = document.querySelector("#btnDetener"); document.querySelector("#btnNuevo"); let h = document.querySelectorAll(".divCartas"), i = document.querySelectorAll("small"), c = (e = 2) => { d = j(), g = []; for (let c = 0; c < e; c++)g.push(0); i.forEach(a => a.innerText = 0), h.forEach(a => a.innerHTML = ""), a.disabled = !1, b.disabled = !1 }, j = () => { d = []; for (let a = 2; a <= 10; a++)for (let b of e) d.push(a + b); for (let c of e) for (let g of f) d.push(g + c); return _.shuffle(d) }, k = () => { if (0 === d.length) throw "No hay cartas en el deck"; return d.pop() }, l = b => { let a = b.substring(0, b.length - 1); return isNaN(a) ? "A" === a ? 11 : 10 : Number(a) }, m = (b, a) => (g[a] = g[a] + l(b), i[a].innerText = g[a], g[a]), n = (b, c) => { let a = document.createElement("img"); a.src = `assets/img/${b}.png`, a.classList.add("carta"), h[c].appendChild(a) }, o = () => { let [a, b] = g; b === a ? (alertify.set("notifier", "position", "top-right"), alertify.warning("Empates!!!")) : b > a || a <= 21 || a < 21 ? (alertify.set("notifier", "position", "top-right"), alertify.success("Jugador 1, Es el Ganador!!!")) : (b < a || a <= 21 || a > 21) && (alertify.set("notifier", "position", "top-right"), alertify.error("Jugador 1, perdiste!!!")) }, p = a => { let b = 0; do { let c = k(); if (b = m(c, g.length - 1), n(c, g.length - 1), a > 21 || 21 === b) break } while (b <= a && a <= 21) o() }; return a.addEventListener("click", () => { let d = k(), c = m(d, 0); n(d, 0), c > 21 ? (console.warn("Lo siento mucho, perdiste"), a.disabled = !0, b.disabled = !0, p(c)) : c >= 21 && (console.warn("21, Genial!!"), a.disabled = !0, b.disabled = !0, p(c)) }), b.addEventListener("click", () => { b.disabled = !0, a.disabled = !0, p(g) }), { nuevoJuego: c } })()